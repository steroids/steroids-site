# Project Architecture

Steroids provides a unified architecture for your projects. By following these principles and rules, you will be able to quickly create complex applications that will be easy to maintain in the future.

## Application Structure

The general structure of an application with a single page and layout looks as follows:

```
node_modules - npm dependencies
public - build directory
src
    actions - redux actions
    reducers - redux reducers
    modals - modal windows
    routes - application routes (pages)
        IndexPage - react component folder
            views - components used only in IndexPage
                MyBox.ts
                MyBox.scss
            IndexPage.ts - react component
            IndexPage.scss - BEM styles for the component
            index.ts - component loading as a directory
    shared - shared components
        Layout
            Layout.ts
            Layout.scss
            index.ts
    ui - styled and custom UI components
        form
            Button
                ButtonView.tsx
                ButtonView.scss
            CustomField
                CustomField.ts
                CustomFieldView.tsx
                CustomFieldView.scss
    style
        index.scss - main style file
        variables.scss - SCSS variables
    Application.tsx - main application component
    index.tsx
.eslintrc - style rules
index.d.ts - common TypeScript types
package.json - dependency description
tsconfig.json - TypeScript settings
webpack.js - Webpack build settings
yarn.lock - fixed versions of dependencies
```

You can add static assets (images, fonts) to the `public` directory for their use in the application via absolute paths. This directory will also store minified application bundles generated by Webpack.

The `src` directory contains the project's source code, which is not published when deploying the project to production.

At the root of the sources, there are two files - `index.tsx` and `Application.tsx`. It's recommended to keep their separation and names exactly as they are, as when using `SSR` (Server-Side Rendering), the Node.js server application will render `Application.tsx`. The `index.tsx` file is used solely for rendering through `react-dom` in the browser.

The `actions` and `reducers` directories contain actions and reducers for the `redux` store, respectively. They don't need to be created if the library already provides many reducers that the application can use. If the `reducers` directory is not created, Webpack will use reducers from the library (`node_modules/@steroidsjs/reducers`).

All routes are defined in the `routes/index.ts` file. You can read more about their capabilities and format in the [Routing](routes.md) section.

React components of the application are distributed among the folders `modals`, `routes`, `shared`, and `ui`. React components cannot be placed in other folders. When you have many components, it's recommended to logically group them further into subfolders.


## React Components

React components always consist of two files - `tsx` and `scss`. Even if you don't currently need to style a component but it contains JSX code, it's still advisable to create a `*.scss` style file and import it in the `*.tsx` file.

Each component is typically placed in a separate folder with an `index.ts` file. The purpose of this file is to load and export the component:

```ts
import IndexPage from './IndexPage';
export default IndexPage;
```

This is done to enable importing the component with a shorter and cleaner path, such as `routes/IndexPage`. Without this "hack," you would need to write `routes/IndexPage/IndexPage` for importing.

## Nested Components

If a component is large (or, for example, a *Page), it can be split into several parts and used in JSX code. Such components should be placed in a `views` subfolder (see `routes/IndexPage/views/*` in the structure) if these nested components are only used in that specific component. Otherwise, you can place them in `shared` if they are shared components that can be used in multiple places.

## Styles (scss)

Basic (common to all components) application styles are placed in the `style` folder. These styles (in the file `index.scss`) are imported at the beginning of the application initialization (in the `Application.tsx` file).

This is where you declare the fonts in use, basic styles for major tags, mixins, and variables. You can also import library `css` files or default Steroids styles here, like `@import '@steroidsjs/bootstrap/index.scss';`.

The variables file is always placed in a separate file accessible at `style/variables.scss`. It contains only SCSS variables and is imported in each react component's style file (e.g., `IndexPage.scss`, `ButtonView.scss`).